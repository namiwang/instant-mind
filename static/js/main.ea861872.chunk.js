(this["webpackJsonpinstant-mind"]=this["webpackJsonpinstant-mind"]||[]).push([[1],{184:function(n,e,t){var o={"./ion-action-sheet.entry.js":[381,5],"./ion-alert.entry.js":[382,6],"./ion-app_8.entry.js":[383,7],"./ion-avatar_3.entry.js":[384,17],"./ion-back-button.entry.js":[385,18],"./ion-backdrop.entry.js":[386,43],"./ion-button_2.entry.js":[387,19],"./ion-card_5.entry.js":[388,20],"./ion-checkbox.entry.js":[389,21],"./ion-chip.entry.js":[390,22],"./ion-col_3.entry.js":[391,44],"./ion-datetime_3.entry.js":[392,10],"./ion-fab_3.entry.js":[393,23],"./ion-img.entry.js":[394,45],"./ion-infinite-scroll_2.entry.js":[395,46],"./ion-input.entry.js":[396,24],"./ion-item-option_3.entry.js":[397,25],"./ion-item_8.entry.js":[398,26],"./ion-loading.entry.js":[399,27],"./ion-menu_3.entry.js":[400,28],"./ion-modal.entry.js":[401,8],"./ion-nav_2.entry.js":[402,14],"./ion-popover.entry.js":[403,9],"./ion-progress-bar.entry.js":[404,29],"./ion-radio_2.entry.js":[405,30],"./ion-range.entry.js":[406,31],"./ion-refresher_2.entry.js":[407,11],"./ion-reorder_2.entry.js":[408,16],"./ion-ripple-effect.entry.js":[409,47],"./ion-route_4.entry.js":[410,32],"./ion-searchbar.entry.js":[411,33],"./ion-segment_2.entry.js":[412,34],"./ion-select_3.entry.js":[413,35],"./ion-slide_2.entry.js":[414,48],"./ion-spinner.entry.js":[415,13],"./ion-split-pane.entry.js":[416,49],"./ion-tab-bar_2.entry.js":[417,36],"./ion-tab_2.entry.js":[418,15],"./ion-text.entry.js":[419,37],"./ion-textarea.entry.js":[420,38],"./ion-toast.entry.js":[421,39],"./ion-toggle.entry.js":[422,12],"./ion-virtual-scroll.entry.js":[423,50]};function r(n){if(!t.o(o,n))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[n],r=e[0];return t.e(e[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(o)},r.id=184,n.exports=r},186:function(n,e,t){var o={"./ion-icon.entry.js":[424,57]};function r(n){if(!t.o(o,n))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[n],r=e[0];return t.e(e[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(o)},r.id=186,n.exports=r},366:function(n,e,t){},378:function(n,e,t){},379:function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o),i=t(29),s=t.n(i),a=t(30),c=t(31),l=t(27),u=t(173),d=c.a.model({id:c.a.identifierNumber,label:c.a.string,parent:c.a.maybe(c.a.reference(c.a.late((function(){return d})))),outgoing:!1,side:c.a.number,posX:0,posY:0}).views((function(n){return{get type(){return n.parent?"default":"center"}}})).views((function(n){return{get klass(){return Object(u.a)("node",{center:!n.parent})}}})).views((function(n){return{get flowData(){var e=n.parent?n.side>0?l.e.Right:l.e.Left:void 0,t=n.parent?n.side>0?l.e.Left:l.e.Right:void 0;return{id:"".concat(n.id),position:{x:n.posX,y:n.posY},data:{label:n.label},type:n.type,sourcePosition:e,targetPosition:t,className:n.klass}},get edgeToParent(){if(n.parent){var e=n.parent?n.side>0?"right":"left":void 0;return{id:"".concat(n.id,"-").concat(n.parent.id),source:n.parent.id.toString(),target:n.id.toString(),sourceHandle:e}}}}})),j=d,f=t(56),p=t(90),b=t(113),v=t.n(b);function y(n,e){var t=new v.a.graphlib.Graph;t.setGraph({rankdir:e}),t.setDefaultEdgeLabel((function(){return{}}));var o=Object(p.filter)(Object.values(n),(function(n){return"LR"===e&&n.side>=0||"RL"===e&&n.side<=0}));o.forEach((function(n){var e;t.setNode(n.id.toString(),{width:200,height:48}),0!==n.side&&t.setEdge(null===(e=n.parent)||void 0===e?void 0:e.toString(),n.id.toString())})),v.a.layout(t),o.forEach((function(n){var e=t.node(n.id.toString());n.posX=e.x-100+Object(p.random)(-8,8),n.posY=e.y-24+Object(p.random)(-8,8)}))}function h(n){console.info(n);var e={},t=-1,o=-1,r=[],i=!1;function s(n){return n?0===n.side?(i=!i)?1:-1:n.side:0}function a(n){var i;if("listItem"===n.type){console.info("parseItem",n);var a=function(n){var i=o+=1,a=t>0?r[t-1]:void 0,c={id:i,label:n,parent:null===a||void 0===a?void 0:a.id,side:s(a)};return e[i]=c,a&&(a.outgoing=!0),console.info("new node",c),c}(function(n){var e,t;console.info("parsePara",n);var o=null===n||void 0===n||null===(e=n.content)||void 0===e||null===(t=e.map((function(n){return n.text})))||void 0===t?void 0:t.join();return null!==o&&void 0!==o?o:""}(n.content[0]));r[t]=a;var l=null===(i=n.content)||void 0===i?void 0:i[1];l&&c(l)}}function c(n){if("bulletList"===n.type){console.info("parseList",n),t+=1;var e,o=Object(f.a)(n.content);try{for(o.s();!(e=o.n()).done;){a(e.value)}}catch(r){o.e(r)}finally{o.f()}t-=1}}c(n.content[0]),y(e,"LR");var l=e[0].posY;y(e,"RL");var u=e[0].posX;return Object.values(e).forEach((function(n){n.side>0&&(n.posX+=u,n.posY-=l)})),g.create({nodes:e})}var g=c.a.model({nodes:c.a.map(j)}).views((function(n){return{get elements(){var e=[];return Array.from(n.nodes.values()).forEach((function(n){e.push(n.flowData);var t=n.edgeToParent;t&&e.push(t)})),e}}})),O=c.a.model({graph:g}).actions((function(n){return{updateDoc:function(e){n.graph=h(e),console.log(n.graph)}}})).create({graph:{}}),m=Object(o.createContext)(null);function x(){var n=Object(o.useContext)(m);if(null===n)throw new Error("Store cannot be null, please add a context provider");return n}var w=t(26),_=t(114),L=t(174),k=t(11),E=function(){var n=x(),e=Object(_.b)({extensions:[L.a],content:"\n<ul>\n  <li>\n    <p>instant mind</p>\n    <ul>\n      <li>\n        <p>design</p>\n      </li>\n      <li>\n        <p>development</p>\n        <ul>\n          <li>\n            <p>editor</p>\n          </li>\n          <li>\n            <p>flow utility</p>\n          </li>\n          <li>\n            <p>layout algorithm</p>\n          </li>\n          <li>\n            <p>download</p>\n          </li>\n        </ul>\n      </li>\n      <li>\n        <p>deployment</p>\n        <ul>\n          <li>\n            <p>github pages</p>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n",autofocus:!0,onCreate:function(e){var t=e.editor.getJSON();n.updateDoc(t)},onUpdate:function(e){var t=e.editor,o=t.getJSON();n.updateDoc(o),console.log(t.getHTML())}});return Object(k.jsx)(_.a,{editor:e,id:"editor"})},S=t(16),D=t(175),C=Object(o.memo)((function(n){var e=n.data;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:e.label}),Object(k.jsx)(l.c,{type:"source",position:l.e.Left,id:"left"}),Object(k.jsx)(l.c,{type:"source",position:l.e.Right,id:"right"})]})})),P=Object(D.a)((function(){var n=x(),e=Object(o.useState)(null),t=Object(S.a)(e,2),r=t[0],i=t[1],s=Object(o.useCallback)((function(n){i(n),setTimeout((function(){n.fitView()}),500)}),[]);return Object(o.useEffect)((function(){null===r||void 0===r||r.fitView()}),[n.graph.elements]),Object(k.jsxs)(l.f,{id:"mind",nodeTypes:{center:C},elements:n.graph.elements,onLoad:s,elementsSelectable:!1,nodesConnectable:!1,defaultZoom:.8,children:[Object(k.jsx)(l.a,{variant:l.b.Lines}),Object(k.jsx)(l.d,{})]})})),N=(t(366),function(){return Object(k.jsxs)(a.g,{children:[Object(k.jsx)(a.e,{children:Object(k.jsxs)(a.i,{children:[Object(k.jsx)(a.h,{children:"InstantMind"}),Object(k.jsx)(a.c,{slot:"primary",children:Object(k.jsx)(a.b,{children:Object(k.jsx)(a.f,{slot:"icon-only",icon:w.h})})})]})}),Object(k.jsxs)(a.d,{fullscreen:!0,children:[Object(k.jsx)(a.e,{collapse:"condense",children:Object(k.jsx)(a.i,{children:Object(k.jsx)(a.h,{size:"large",children:"InstantMind"})})}),Object(k.jsx)(E,{}),Object(k.jsx)(P,{})]})]})}),T=(t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),function(){return Object(k.jsx)(m.Provider,{value:O,children:Object(k.jsx)(a.a,{children:Object(k.jsx)(N,{})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(n){n&&n instanceof Function&&t.e(58).then(t.bind(null,444)).then((function(e){var t=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;t(n),o(n),r(n),i(n),s(n)}))};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)})),F()}},[[379,3,4]]]);
//# sourceMappingURL=main.ea861872.chunk.js.map